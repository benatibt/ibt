/* =================================================
   Islands Book Trust – Front-end stylesheet
   Purpose: minimal structural helpers only.
   Keep colours, typography and hover effects in theme.json.
   ================================================= */

/* =================================================
   Design tokens (custom)
   Edit once to change for this css file
   ================================================= */
:root {
  --ibt-outline-soft-fill: #fffdf5;   /* outline button hover/focus fill */
  --ibt-underline-thickness: 3px;     /* header link/icon underline thickness */
}

/* --------------------------------------------
   Base reset
   -------------------------------------------- */

/* Ensure blocks align flush with viewport */
body {
    margin: 0;
}

/* Use border-box sizing everywhere to make
   width/height calculations predictable */
html {
    box-sizing: border-box;
}
*, *::before, *::after {
    box-sizing: inherit;
}

/* --------------------------------------------
   Media defaults
   -------------------------------------------- */

/* Prevent images or video from overflowing
   their container and keep aspect ratio */
img,
svg,
video {
    max-width: 100%;
    height: auto;
}

/* Remove default figure margins so WordPress
   block gap settings control spacing */
figure {
    margin: 0;
}

/* --------------------------------------------
   Accessibility helpers
   -------------------------------------------- */

/* Visually hidden but screen-reader accessible text */
.screen-reader-text {
    position: absolute !important;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
    white-space: nowrap;
    border: 0;
}

/* When focused (e.g. skip link), reveal the text */
.screen-reader-text:focus {
    clip: auto;
    width: auto;
    height: auto;
    margin: 0;
    padding: 0.5rem 1rem;
    position: static;
    background: #fff; /* purely for readability */
}

/* Tighten faux underline for header links to avoid text floating above line */
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a { padding-bottom: 0; }

/* --------------------------------------------
   Core Button states (solid + outline with soft hover fill)
   -------------------------------------------- */

/* Map each button to brand tokens */
.wp-block-button > .wp-block-button__link {
  --btn-bg: var(--wp--preset--color--primary);
  --btn-hover: var(--wp--preset--color--primary-hover);
}
/* Accent variants override the tokens */
.wp-block-button.is-style-solid-accent > .wp-block-button__link,
.wp-block-button.is-style-outline-accent > .wp-block-button__link {
  --btn-bg: var(--wp--preset--color--accent);
  --btn-hover: var(--wp--preset--color--accent-hover);
}

/* Solid Accent — ensure green base (JSON sets primary for default) */
.wp-block-button.is-style-solid-accent > .wp-block-button__link {
  background-color: var(--btn-bg);
  border-color: var(--btn-bg);
  color: #fff;
}

/* SOLID (Default + Solid Accent): darken to brand hover token */
.wp-block-button:not(.is-style-outline) > .wp-block-button__link:hover,
.wp-block-button:not(.is-style-outline) > .wp-block-button__link:focus-visible {
  background-color: var(--btn-hover);
  border-color: var(--btn-hover);
  color: #fff;
  box-shadow: 0 0 0 2px var(--btn-hover);
}

/* OUTLINE base: always transparent */
.wp-block-button.is-style-outline > .wp-block-button__link,
.wp-block-button.is-style-outline-accent > .wp-block-button__link {
  background-color: transparent;
  color: var(--btn-bg);
  border-color: var(--btn-bg);
}

/* OUTLINE hover/focus: soft cream fill + darker brand for border/text */
.wp-block-button.is-style-outline > .wp-block-button__link:hover,
.wp-block-button.is-style-outline > .wp-block-button__link:focus-visible,
.wp-block-button.is-style-outline-accent > .wp-block-button__link:hover,
.wp-block-button.is-style-outline-accent > .wp-block-button__link:focus-visible {
  background-color: var(--ibt-outline-soft-fill);
  color: var(--btn-hover);
  border-color: var(--btn-hover);
  box-shadow: 0 0 0 2px var(--btn-hover);
}

/* =====================================================
   Header interactivity — nav links, site title, mobile toggles, Woo icons
   - Nav & submenu: brand navy on hover/focus + underline cue
   - Site title: underline cue (color handled via theme.json)
   - Mobile toggles (hamburger/close): brand navy + underline cue
   - Woo account/cart: brand navy + underline cue; tint SVGs
   ===================================================== */

/* Nav + submenu — color + underline */
.wp-block-navigation .wp-block-navigation-item__content:is(:hover, :focus-visible),
.wp-block-navigation .wp-block-navigation__submenu-container a:is(:hover, :focus-visible) {
  color: var(--wp--preset--color--primary) !important;
  box-shadow: inset 0 calc(var(--ibt-underline-thickness) * -1) currentColor;
}

/* Site title — underline cue only (color comes from theme.json) */
.wp-block-site-title a:is(:hover, :focus-visible) {
  box-shadow: inset 0 calc(var(--ibt-underline-thickness) * -1) currentColor;
}

/* Mobile menu toggles (hamburger/close) — color + underline */
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-open:is(:hover, :focus-visible),
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-close:is(:hover, :focus-visible) {
  color: var(--wp--preset--color--primary) !important;
  box-shadow: inset 0 calc(var(--ibt-underline-thickness) * -1) currentColor !important;
}
/* Toggle SVGs follow currentColor while hovered/focused */
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-open:is(:hover, :focus-visible) svg,
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-open:is(:hover, :focus-visible) svg *,
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-close:is(:hover, :focus-visible) svg,
.wp-block-navigation.is-responsive
  .wp-block-navigation__responsive-container-close:is(:hover, :focus-visible) svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* Account & Cart (Woo) — brand color + underline on hover/focus
   Support both wrapper class names across Woo versions. */
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) a:is(:hover, :focus-visible),
:where(.wp-block-woocommerce-mini-cart, .wc-block-mini-cart) :is(a, button, .wc-block-mini-cart__button):is(:hover, :focus-visible),
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) .wc-block-customer-account__account-icon:is(:hover, :focus-visible) {
  color: var(--wp--preset--color--primary) !important;
  box-shadow: inset 0 calc(var(--ibt-underline-thickness) * -1) currentColor !important;
}

/* Ensure SVGs inherit the color while hovered/focused */
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) a:is(:hover, :focus-visible) svg,
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) a:is(:hover, :focus-visible) svg *,
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) .wc-block-customer-account__account-icon:is(:hover, :focus-visible),
:where(.wp-block-woocommerce-customer-account, .wc-block-customer-account) .wc-block-customer-account__account-icon:is(:hover, :focus-visible) *,
:where(.wp-block-woocommerce-mini-cart, .wc-block-mini-cart) :is(a, button, .wc-block-mini-cart__button):is(:hover, :focus-visible) svg,
:where(.wp-block-woocommerce-mini-cart, .wc-block-mini-cart) :is(a, button, .wc-block-mini-cart__button):is(:hover, :focus-visible) svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}


/* =====================================================
   WooCommerce – Mini-cart footer + checkout + single product
   ===================================================== */

/* Primary (solid) buttons – checkout, add to basket, place order, cart submit */
.wc-block-mini-cart__footer-actions
    .wc-block-components-button:not(.outlined),
.single_add_to_cart_button.button.alt,
.wc-block-components-checkout-place-order-button.contained,
.wc-block-cart__submit-button.contained {
    background-color: var(--wp--preset--color--primary);
    color: #fff;
    border: 2px solid var(--wp--preset--color--primary);
    font-family: var(--wp--preset--font-family--title-font);
    font-weight: 700;
    border-radius: 12px;
    padding: 0.75rem 1.5rem;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.wc-block-mini-cart__footer-actions
    .wc-block-components-button:not(.outlined):hover,
.wc-block-mini-cart__footer-actions
    .wc-block-components-button:not(.outlined):focus-visible,
.single_add_to_cart_button.button.alt:hover,
.single_add_to_cart_button.button.alt:focus-visible,
.wc-block-components-checkout-place-order-button.contained:hover,
.wc-block-components-checkout-place-order-button.contained:focus-visible,
.wc-block-cart__submit-button.contained:hover,
.wc-block-cart__submit-button.contained:focus-visible {
    background-color: var(--wp--preset--color--primary-hover);
    border-color: var(--wp--preset--color--primary-hover);
    box-shadow: 0 0 0 2px var(--wp--preset--color--primary-hover);
}

/* Secondary (outline) button – “View my basket” */
.wc-block-mini-cart__footer-actions
    .wc-block-components-button.outlined {
    background-color: transparent;
    color: var(--wp--preset--color--primary);
    border: 2px solid var(--wp--preset--color--primary);
    font-family: var(--wp--preset--font-family--title-font);
    font-weight: 600;
    border-radius: 12px;
    padding: 0.75rem 1.5rem;
    transition: color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.wc-block-mini-cart__footer-actions
    .wc-block-components-button.outlined:hover,
.wc-block-mini-cart__footer-actions
    .wc-block-components-button.outlined:focus-visible {
    color: var(--wp--preset--color--primary-hover);
    border-color: var(--wp--preset--color--primary-hover);
    background-color: var(--ibt-outline-soft-fill); /* soft “sunlight” fill */
    box-shadow: 0 0 0 2px var(--wp--preset--color--primary-hover);
}
/* End of WooCommerce styling */

/* =================================================
   End of minimal stylesheet
   ================================================= */
